/*!
 * 
 *   @melmacaluso/hilite.js v1.0.0
 *   https://github.com/MelMacaluso/hilite.js
 * 
 *   Copyright (c) Mel Macaluso (https://github.com/MelMacaluso)
 * 
 *   This source code is licensed under the MIT license found in the
 *   LICENSE file in the root directory of this source tree.
 *   
 */
!function(e,t){"object"===typeof exports&&"object"===typeof module?module.exports=t():"function"===typeof define&&define.amd?define("Hilite",[],t):"object"===typeof exports?exports.Hilite=t():e.Hilite=t()}(window,(function(){return function(e){var t={};function __webpack_require__(i){if(t[i])return t[i].exports;var s=t[i]={i:i,l:!1,exports:{}};return e[i].call(s.exports,s,s.exports,__webpack_require__),s.l=!0,s.exports}return __webpack_require__.m=e,__webpack_require__.c=t,__webpack_require__.d=function(e,t,i){__webpack_require__.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},__webpack_require__.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.t=function(e,t){if(1&t&&(e=__webpack_require__(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(__webpack_require__.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)__webpack_require__.d(i,s,function(t){return e[t]}.bind(null,s));return i},__webpack_require__.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return __webpack_require__.d(t,"a",t),t},__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=0)}([function(e,t,i){e.exports=i(2)},function(e,t,i){},function(e,t,i){"use strict";i.r(t),i.d(t,"Hilite",(function(){return s}));i(1);function _defineProperties(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}var s=function(){function Hilite(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Hilite),this.stepsArray=e,this.step=0,this.stepsNumber=this.stepsArray.length,this.body=document.querySelector("body"),this.currentStepObj=this.stepsArray[this.step],this.message=this.currentStepObj.message,this.overlaysWrapper=this.createOverlaysWrapper(),this.overlays=this.createOverlays(),this.closeBtn=this.createCloseBtn(this.currentStepObj.closeBtnText),this.messageBox=this.createMessage(),this.nextStepBtn=this.createNextStepBtn(),this.update(),this.handleResize()}var e,t,i;return e=Hilite,(t=[{key:"update",value:function(){this.currentStepObj=this.stepsArray[this.step],this.target=this.currentStepObj.target,this.targetWidth=this.target.clientWidth,this.targetHeight=this.target.clientHeight,this.message=this.currentStepObj.message,this.messageBox.innerText=this.message}},{key:"handleLastStep",value:function(){this.stepsNumber===this.step+1&&(this.nextStepBtn.remove(),this.displaceCloseBtn(),this.appendCloseBtn())}},{key:"createOverlay",value:function(e){var t=document.createElement("div");return t.classList="hilite__overlay ".concat(e),t}},{key:"createOverlays",value:function(){return{left:this.createOverlay("hilite__overlay--left"),right:this.createOverlay("hilite__overlay--right"),top:this.createOverlay("hilite__overlay--top"),bottom:this.createOverlay("hilite__overlay--bottom")}}},{key:"createOverlaysWrapper",value:function(){var e=document.createElement("div");return e.className="hilite__overlays",e}},{key:"appendOverlays",value:function(){var e=this;Object.values(this.overlays).forEach((function(t){return e.overlaysWrapper.appendChild(t)})),this.body.appendChild(this.overlaysWrapper)}},{key:"appendMessage",value:function(){this.overlaysWrapper.append(this.messageBox)}},{key:"appendNextStepBtn",value:function(){this.messageBox.parentNode.insertBefore(this.nextStepBtn,this.messageBox.nextSibling)}},{key:"appendCloseBtn",value:function(){this.messageBox.parentNode.insertBefore(this.closeBtn,this.messageBox.nextSibling)}},{key:"displaceOverlays",value:function(){var e=this.target.getBoundingClientRect(),t=e.left,i=e.top,s=e.bottom;this.overlays.left.style.width="".concat(t,"px"),this.overlays.right.style.width="".concat(window.innerWidth-(t+this.targetWidth),"px"),this.overlays.bottom.style.height="".concat(window.innerHeight-(i+this.targetHeight),"px"),this.overlays.bottom.style.width="".concat(this.targetWidth,"px"),this.overlays.bottom.style.left="".concat(t,"px"),this.overlays.top.style.height="".concat(s-this.targetHeight,"px"),this.overlays.top.style.width="".concat(this.targetWidth,"px"),this.overlays.top.style.left="".concat(t,"px")}},{key:"displaceMessage",value:function(){var e=this.target.getBoundingClientRect(),t=e.left,i=e.bottom;this.messageBox.style.left="".concat(t,"px"),this.messageBox.style.top="".concat(i+20,"px")}},{key:"displaceNextStepBtn",value:function(){var e=this.target.getBoundingClientRect(),t=e.left,i=e.bottom,s=this.messageBox.clientHeight;this.nextStepBtn.style.left="".concat(t,"px"),this.nextStepBtn.style.top="".concat(i+30+s,"px")}},{key:"displaceCloseBtn",value:function(){var e=this.target.getBoundingClientRect(),t=e.left,i=e.bottom,s=this.messageBox.clientHeight;this.closeBtn.style.left="".concat(t,"px"),this.closeBtn.style.top="".concat(i+30+s,"px")}},{key:"createNextStepBtn",value:function(){var e=this,t=document.createElement("button");return t.innerText="Next",t.className="hilite__next-step-btn",t.addEventListener("click",(function(){e.nextStep()})),t}},{key:"createMessage",value:function(){var e=document.createElement("div");return e.className="hilite__message",e.innerHTML=this.message,e}},{key:"createCloseBtn",value:function(e){var t=this,i=document.createElement("button");return i.className="hilite__close-btn",i.innerText=e||"Finish",i.addEventListener("click",(function(){t.endOfFlow()})),i}},{key:"nextStep",value:function(e,t){t?this.step=0:this.step+=1,this.update(),this.displaceOverlays(),this.displaceMessage(),this.displaceNextStepBtn(),this.handleLastStep()}},{key:"start",value:function(){var e=this;this.target&&(this.isHilited=!0,this.displaceOverlays(),this.appendOverlays(),this.displaceMessage(),this.appendMessage(),this.stepsNumber>0&&(this.displaceNextStepBtn(),this.appendNextStepBtn()),setTimeout((function(){e.overlaysWrapper.style.opacity=1}),300))}},{key:"endOfFlow",value:function(){var e=this;this.overlaysWrapper.style.opacity=0,setTimeout((function(){e.overlaysWrapper.remove(),e.nextStep(0,!0)}),300)}},{key:"handleResize",value:function(){var e=this;window.addEventListener("resize",(function(){e.displaceMessage(),e.displaceNextStepBtn(),e.displaceCloseBtn(),e.displaceOverlays()}))}}])&&_defineProperties(e.prototype,t),i&&_defineProperties(e,i),Hilite}()}])}));
//# sourceMappingURL=index.js.map